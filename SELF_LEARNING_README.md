# üß† MAXCAPITAL Bot - –°–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ –∏ –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

## üìö –û–±–∑–æ—Ä –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç **2 –Ω–æ–≤—ã–µ –º–æ—â–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:

### 1. üîÑ **–ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Google Drive**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—ã–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ Google Drive –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π.

### 2. üß† **–°–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–∏–∞–ª–æ–≥–∞—Ö**
–£—á–∏—Ç—Å—è –Ω–∞ –≤—ã—Å–æ–∫–æ –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–∞—Ö –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤.

---

## üîÑ 1. –ê–í–¢–û–°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø GOOGLE DRIVE

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Google Drive   ‚îÇ
‚îÇ   –ü–∞–ø–∫–∞ —Å       ‚îÇ
‚îÇ  –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   DriveAutoSync             ‚îÇ
‚îÇ   (/root/mybot/src/         ‚îÇ
‚îÇ    auto_sync_drive.py)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏–∑ Drive   ‚îÇ
‚îÇ 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ë–î           ‚îÇ
‚îÇ 3. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö         ‚îÇ
‚îÇ 4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞        ‚îÇ
‚îÇ 5. –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤     ‚îÇ
‚îÇ 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ documents   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PostgreSQL + pgvector      ‚îÇ
‚îÇ  –¢–∞–±–ª–∏—Ü–∞: documents         ‚îÇ
‚îÇ  - filename                 ‚îÇ
‚îÇ  - content_text             ‚îÇ
‚îÇ  - embedding (vector 1536)  ‚îÇ
‚îÇ  - drive_file_id            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- ‚úÖ **PDF** (.pdf)
- ‚úÖ **Word** (.docx)
- ‚úÖ **Text** (.txt)
- ‚úÖ **Google Docs** (—ç–∫—Å–ø–æ—Ä—Ç –≤ text)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**1. –í–∫–ª—é—á–∏—Ç—å –≤ `.env`:**
```env
GOOGLE_DRIVE_FOLDER_ID=1ABC_your_folder_id_xyz
GOOGLE_CREDENTIALS_FILE=credentials.json
```

**2. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞:**
```python
# –í src/main.py (–£–ñ–ï –î–û–ë–ê–í–õ–ï–ù–û):
if settings.google_drive_folder_id:
    drive_sync_task = asyncio.create_task(
        drive_sync.start_background_sync()
    )
```

**3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
```python
# –í src/auto_sync_drive.py
self.sync_interval_minutes = 60  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å
```

### –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é
cd /root/mybot
docker exec maxcapital_bot python scripts/manual_sync_drive.py

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –Ω–µ –≤ Docker):
python scripts/manual_sync_drive.py
```

**–í—ã–≤–æ–¥:**
```
üìä Current Statistics:
Synced: 12 files
Skipped: 3 files
Errors: 0

‚úÖ Drive sync completed!
üì• Synced: 12
‚è≠Ô∏è  Skipped: 3
‚ùå Errors: 0
```

### –õ–æ–≥–∏

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
docker-compose logs bot | grep drive_sync
```

–ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤:
```json
{"event": "drive_sync_starting", "timestamp": "2025-12-02T12:00:00Z"}
{"event": "drive_files_listed", "count": 15, "folder_id": "1ABC..."}
{"event": "file_synced", "filename": "services.pdf", "content_length": 5234}
{"event": "drive_sync_completed", "synced": 12, "skipped": 3, "duration": 45.2}
```

---

## üß† 2. –°–ê–ú–û–û–ë–£–ß–ï–ù–ò–ï –ù–ê –î–ò–ê–õ–û–ì–ê–•

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—â–∞–µ—Ç—Å—è —Å –±–æ—Ç–æ–º          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ (–∫–∞–∂–¥—ã–π 3-–π —Ä–∞–∑)    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ üìä –ù–∞—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–µ–Ω –±—ã–ª –º–æ–π –æ—Ç–≤–µ—Ç?‚îÇ ‚îÇ
‚îÇ  ‚îÇ                                    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚≠ê ‚≠ê‚≠ê ‚≠ê‚≠ê‚≠ê ‚≠ê‚≠ê‚≠ê‚≠ê ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê      ‚îÇ ‚îÇ
‚îÇ  ‚îÇ         [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]                ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DialogRating —Ç–∞–±–ª–∏—Ü–∞                   ‚îÇ
‚îÇ  - user_message                         ‚îÇ
‚îÇ  - bot_response                         ‚îÇ
‚îÇ  - rating (1-5)                         ‚îÇ
‚îÇ  - service                              ‚îÇ
‚îÇ  - is_added_to_knowledge (false)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ –ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SelfLearning Process                   ‚îÇ
‚îÇ  (/root/mybot/src/self_learning.py)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. –í—ã–±—Ä–∞—Ç—å –¥–∏–∞–ª–æ–≥–∏ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º ‚â•4      ‚îÇ
‚îÇ 2. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç          ‚îÇ
‚îÇ 3. –°–æ–∑–¥–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥                   ‚îÇ
‚îÇ 4. –î–æ–±–∞–≤–∏—Ç—å –≤ documents                ‚îÇ
‚îÇ 5. –ü–æ–º–µ—Ç–∏—Ç—å is_added_to_knowledge=true ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  documents —Ç–∞–±–ª–∏—Ü–∞                      ‚îÇ
‚îÇ  filename: learned_dialog_123.txt       ‚îÇ
‚îÇ  content:                               ‚îÇ
‚îÇ  "# –î–∏–∞–ª–æ–≥ —Å –∫–ª–∏–µ–Ω—Ç–æ–º - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å  ‚îÇ
‚îÇ   –í–æ–ø—Ä–æ—Å: –ö–∞–∫–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞?    ‚îÇ
‚îÇ   –û—Ç–≤–µ—Ç: –û—Ç 100 –º–ª–Ω ‚ÇΩ...              ‚îÇ
‚îÇ   –û—Ü–µ–Ω–∫–∞: 5/5 ‚≠ê"                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ö–æ–∂–µ–º –≤–æ–ø—Ä–æ—Å–µ
         v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  RAG –Ω–∞—Ö–æ–¥–∏—Ç —ç—Ç–æ—Ç –¥–∏–∞–ª–æ–≥                ‚îÇ
‚îÇ  GPT-4 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∫ –ø—Ä–∏–º–µ—Ä            ‚îÇ
‚îÇ  –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –ª—É—á—à–µ!                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è:**
```python
# –í src/self_learning.py
self.min_rating_threshold = 4  # –¢–æ–ª—å–∫–æ 4-5 –∑–≤–µ–∑–¥
self.learning_interval_minutes = 120  # –£—á–∏—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
self.batch_size = 50  # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ 50 –¥–∏–∞–ª–æ–≥–æ–≤
```

**2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∫–∞–∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞:**
```python
# –í src/handlers/chat.py
if conversation_length % 3 == 0:  # –ö–∞–∂–¥—ã–π 3-–π –æ—Ç–≤–µ—Ç
    await ask_for_rating(...)
```

**3. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–£–ñ–ï –ù–ê–°–¢–†–û–ï–ù–û):**
```python
# –í src/main.py
learning_task = asyncio.create_task(
    self_learning.start_background_learning()
)
```

### –†—É—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é
cd /root/mybot
docker exec maxcapital_bot python scripts/manual_learning.py

# –í—ã–≤–æ–¥:
# üìä Current Statistics:
# Total ratings: 156
# Already learned: 42
# Pending to learn: 28
# Avg rating (30d): 4.3
#
# ‚úÖ Self-learning completed!
# üß† Learned: 28 dialogs
# ‚ùå Errors: 0
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

**SQL –∑–∞–ø—Ä–æ—Å—ã:**
```sql
-- –í—Å–µ —Ä–µ–π—Ç–∏–Ω–≥–∏
SELECT * FROM dialog_ratings ORDER BY created_at DESC LIMIT 10;

-- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
SELECT AVG(rating) FROM dialog_ratings;

-- –í—ã—Å–æ–∫–æ –æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ (–µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã)
SELECT COUNT(*) FROM dialog_ratings 
WHERE rating >= 4 AND is_added_to_knowledge = false;

-- –£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
SELECT COUNT(*) FROM dialog_ratings 
WHERE is_added_to_knowledge = true;
```

**–ß–µ—Ä–µ–∑ Docker:**
```bash
docker exec maxcapital_db psql -U maxcapital -d maxcapital_bot -c "
  SELECT 
    rating,
    COUNT(*) as count,
    AVG(CASE WHEN is_added_to_knowledge THEN 1 ELSE 0 END) * 100 as learned_percent
  FROM dialog_ratings 
  GROUP BY rating 
  ORDER BY rating DESC;
"
```

### –§–æ—Ä–º–∞—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞

**–ü—Ä–∏–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π:**
```markdown
# –î–∏–∞–ª–æ–≥ —Å –∫–ª–∏–µ–Ω—Ç–æ–º - –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (–ú–æ—Å–∫–≤–∞)

## –í–æ–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞:
–ö–∞–∫–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ú–æ—Å–∫–≤—ã?

## –û—Ç–≤–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞ MAXCAPITAL:
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –Ω–∞ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞: –æ—Ç 100 –º–ª–Ω ‚ÇΩ

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
‚úî –î–∏–≤–µ—Ä—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ä–∏—Å–∫–∏ (3-4 –æ–±—ä–µ–∫—Ç–∞)
‚úî –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º —Ü–µ–Ω—Ç—Ä–∞ –ú–æ—Å–∫–≤—ã
‚úî –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ì–ê–ë (–≥–æ—Ç–æ–≤—ã–π –∞—Ä–µ–Ω–¥–Ω—ã–π –±–∏–∑–Ω–µ—Å)

–ú—ã —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å –º–µ–Ω—å—à–∏–º–∏ —Å—É–º–º–∞–º–∏ –æ—Ç 50 –º–ª–Ω ‚ÇΩ 
–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤.

---
–ò—Å—Ç–æ—á–Ω–∏–∫: –†–µ–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∫–ª–∏–µ–Ω—Ç–æ–º
–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞: 5/5 ‚≠ê
–î–∞—Ç–∞: 2025-12-02
–£—Å–ª—É–≥–∞: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (–ú–æ—Å–∫–≤–∞)

–≠—Ç–æ—Ç –¥–∏–∞–ª–æ–≥ –±—ã–ª –≤—ã—Å–æ–∫–æ –æ—Ü–µ–Ω–µ–Ω –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É 
–∑–Ω–∞–Ω–∏–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π.
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –ü—Ä–∏ –≤–æ–ø—Ä–æ—Å–µ "–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å" ‚Üí RAG –Ω–∞—Ö–æ–¥–∏—Ç —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
- GPT-4 –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞
- –û—Ç–≤–µ—á–∞–µ—Ç –≤ –ø–æ—Ö–æ–∂–µ–º —Å—Ç–∏–ª–µ —Å —Ç–æ—á–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

**–ù–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (TODO - –¥–æ–±–∞–≤–∏—Ç—å –≤ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É):**
```python
# –í src/web/api.py –¥–æ–±–∞–≤–∏—Ç—å endpoint:
@app.get("/api/learning-stats")
async def get_learning_stats(session: AsyncSession = Depends(get_db_session)):
    stats = await self_learning.get_learning_statistics(session)
    return {
        "total_ratings": stats["total_ratings"],
        "learned_dialogs": stats["learned_dialogs"],
        "pending_to_learn": stats["pending_to_learn"],
        "avg_rating_30d": stats["avg_rating_30d"]
    }
```

### –õ–æ–≥–∏

**–†–µ–π—Ç–∏–Ω–≥–∏:**
```bash
docker-compose logs bot | grep rating
```

```json
{"event": "rating_received", "user_id": 123456789, "rating": 5, "service": "individual_consultation"}
{"event": "dialog_rating_created", "rating_id": 42, "user_id": 123456789, "rating": 5}
```

**–°–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ:**
```bash
docker-compose logs bot | grep learning
```

```json
{"event": "self_learning_starting", "timestamp": "..."}
{"event": "learning_dialogs_found", "count": 28, "min_rating": 4}
{"event": "dialog_learned", "rating_id": 42, "document_id": 156, "rating": 5}
{"event": "self_learning_completed", "learned": 28, "errors": 0, "duration": 12.3}
```

**Drive —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
```bash
docker-compose logs bot | grep drive
```

```json
{"event": "drive_sync_starting", "timestamp": "..."}
{"event": "file_synced", "filename": "services.pdf", "file_id": "1ABC...", "content_length": 5234}
{"event": "drive_sync_completed", "synced": 12, "skipped": 3, "duration": 45.2}
```

---

## üîß –ù–ê–°–¢–†–û–ô–ö–ê –ü–ê–†–ê–ú–ï–¢–†–û–í

### –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∑–∞–ø—É—Å–∫–∞

**–§–∞–π–ª: `/root/mybot/src/auto_sync_drive.py`**
```python
self.sync_interval_minutes = 60  # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–π —á–∞—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

**–§–∞–π–ª: `/root/mybot/src/self_learning.py`**
```python
self.learning_interval_minutes = 120  # –û–±—É—á–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
self.min_rating_threshold = 4  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ 4 –∑–≤–µ–∑–¥—ã
self.batch_size = 50  # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ 50 –¥–∏–∞–ª–æ–≥–æ–≤ –∑–∞ —Ä–∞–∑
```

**–§–∞–π–ª: `/root/mybot/src/handlers/chat.py`**
```python
if conversation_length % 3 == 0:  # –°–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –∫–∞–∂–¥—ã–π 3-–π –æ—Ç–≤–µ—Ç
    await ask_for_rating(...)
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

**–û—Ç–∫–ª—é—á–∏—Ç—å Google Drive —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:**
```env
# –í .env –ø—Ä–æ—Å—Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ GOOGLE_DRIVE_FOLDER_ID –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º
GOOGLE_DRIVE_FOLDER_ID=
```

**–û—Ç–∫–ª—é—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∏:**
```python
# –í src/handlers/chat.py –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:
# if conversation_length % 3 == 0:
#     await ask_for_rating(...)
```

**–û—Ç–∫–ª—é—á–∏—Ç—å —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ:**
```python
# –í src/main.py –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:
# learning_task = asyncio.create_task(
#     self_learning.start_background_learning()
# )
```

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í—Å–µ —É–∂–µ –µ—Å—Ç—å –≤ `requirements.txt`:
```txt
google-api-python-client==2.108.0
google-auth-httplib2==0.2.0
google-auth-oauthlib==1.2.0
PyPDF2==3.0.1
python-docx==1.1.0
```

### 2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
cd /root/mybot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f bot
```

### 3. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É dialog_ratings

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
docker exec -it maxcapital_db psql -U maxcapital -d maxcapital_bot

# –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ SQLAlchemy
# –ù–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
CREATE TABLE IF NOT EXISTS dialog_ratings (
    id SERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL,
    user_message TEXT NOT NULL,
    bot_response TEXT NOT NULL,
    rating INTEGER NOT NULL,
    service TEXT,
    is_added_to_knowledge BOOLEAN DEFAULT FALSE,
    relevance_score FLOAT,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_ratings_created ON dialog_ratings(created_at);
CREATE INDEX idx_ratings_user ON dialog_ratings(user_id);
CREATE INDEX idx_ratings_rating ON dialog_ratings(rating);
```

### 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Drive (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å credentials.json (—Å–º. GOOGLE_DRIVE_SETUP.md)
# 2. –ü–æ–ª–æ–∂–∏—Ç—å –≤ /root/mybot/credentials.json
# 3. –î–æ–±–∞–≤–∏—Ç—å –≤ .env:
GOOGLE_DRIVE_FOLDER_ID=your_folder_id
```

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```bash
# –¢–µ—Å—Ç Drive —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
docker exec maxcapital_bot python scripts/manual_sync_drive.py

# –¢–µ—Å—Ç —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è
docker exec maxcapital_bot python scripts/manual_learning.py

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f bot | grep -E "drive|learning|rating"
```

---

## üìà –ú–ï–¢–†–ò–ö–ò –≠–§–§–ï–ö–¢–ò–í–ù–û–°–¢–ò

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ü–æ—Å–ª–µ 100 –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤:**
- ‚úÖ 20-30 –¥–∏–∞–ª–æ–≥–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (—Ä–µ–π—Ç–∏–Ω–≥ 4-5)
- ‚úÖ RAG –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤ 60-70% —Å–ª—É—á–∞–µ–≤
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ —É–ª—É—á—à–∞–µ—Ç—Å—è –Ω–∞ 15-20%

**–ü–æ—Å–ª–µ 500 –æ—Ü–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤:**
- ‚úÖ 100-150 –¥–∏–∞–ª–æ–≥–æ–≤ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- ‚úÖ RAG –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –≤ 80-90% —Å–ª—É—á–∞–µ–≤
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ —É–ª—É—á—à–∞–µ—Ç—Å—è –Ω–∞ 30-40%

### KPI –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```sql
-- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –ø–æ –Ω–µ–¥–µ–ª—è–º
SELECT 
    DATE_TRUNC('week', created_at) as week,
    AVG(rating) as avg_rating,
    COUNT(*) as ratings_count
FROM dialog_ratings
GROUP BY week
ORDER BY week DESC;

-- –†–µ–π—Ç–∏–Ω–≥ –ø–æ —É—Å–ª—É–≥–∞–º
SELECT 
    service,
    AVG(rating) as avg_rating,
    COUNT(*) as count
FROM dialog_ratings
WHERE service IS NOT NULL
GROUP BY service
ORDER BY avg_rating DESC;

-- –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã—Å–æ–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫
SELECT 
    COUNT(CASE WHEN rating >= 4 THEN 1 END) * 100.0 / COUNT(*) as high_rating_percent
FROM dialog_ratings;
```

---

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 6 –º–µ—Å—è—Ü–µ–≤:**
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –≤ cron (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
DELETE FROM dialog_ratings 
WHERE created_at < NOW() - INTERVAL '6 months'
AND is_added_to_knowledge = true;
```

### –õ–∏–º–∏—Ç—ã

```python
# –í src/self_learning.py
self.batch_size = 50  # –ù–µ –±–æ–ª–µ–µ 50 –∑–∞ —Ä–∞–∑ (—á—Ç–æ–±—ã –Ω–µ –Ω–∞–≥—Ä—É–∑–∏—Ç—å OpenAI API)
```

---

## üéØ –ò–¢–û–ì–û

### –ß—Ç–æ —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç –±–æ—Ç:

1. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π** –∏–∑ Google Drive –∫–∞–∂–¥—ã–π —á–∞—Å
2. ‚úÖ **–°–æ–±–∏—Ä–∞–µ—Ç feedback** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–π—Ç–∏–Ω–≥ 1-5 –∑–≤–µ–∑–¥)
3. ‚úÖ **–£—á–∏—Ç—Å—è –Ω–∞ –ª—É—á—à–∏—Ö –¥–∏–∞–ª–æ–≥–∞—Ö** –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É
4. ‚úÖ **–£–ª—É—á—à–∞–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º** –±–µ–∑ –≤–∞—à–µ–≥–æ —É—á–∞—Å—Ç–∏—è
5. ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç 24/7** –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ

### Cycle of Improvement:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç
        ‚Üì
–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG
        ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç (4-5 ‚≠ê)
        ‚Üì
–î–∏–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (–∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞)
        ‚Üì
RAG –Ω–∞—Ö–æ–¥–∏—Ç —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø—Ä–∏ –ø–æ—Ö–æ–∂–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö
        ‚Üì
–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –µ—â–µ –ª—É—á—à–µ!
        ‚Üì
[–¶–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è - –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å—Ç–µ—Ç]
```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:** `docker-compose logs bot | grep -E "error|failed"`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é:** `python scripts/manual_sync_drive.py`
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î:** `docker exec -it maxcapital_db psql -U maxcapital -d maxcapital_bot`
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Google Drive –¥–æ—Å—Ç—É–ø:** –ü—Ä–∞–≤–∞ –Ω–∞ `credentials.json`

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2 –¥–µ–∫–∞–±—Ä—è 2025*  
*–í–µ—Ä—Å–∏—è: 1.0*  
*–ü—Ä–æ–µ–∫—Ç: MAXCAPITAL Telegram Bot - Self-Learning Edition*





